---
import RexLayout from '@layouts/RexLayout.astro';
import { initRedaxoAdapter } from '@config/layout';
import KArticleContent from '@kreatif/starter/components/layout/KArticleContent.astro';
const { path } = Astro.params;
import ModuleList from '@layout/ModuleList.astro';

const {
    redirect,
    contentType,
    article,
    clangs,
    clang,
    footerArticle,
    navigation,
    siteStartArticle,
} = await initRedaxoAdapter(Astro, path);
if (redirect) {
    return redirect;
}
---

<RexLayout
    article={article}
    clang={clang}
    metadata={contentType.metadata}
    clangs={clangs}
    footerArticle={footerArticle}
    navigation={navigation}
    siteStartArticle={siteStartArticle}
    path={path}
>
    {
        contentType.type === 'article' && (
            <KArticleContent
                clang={clang}
                article={article!}
                ModuleListComponent={ModuleList}
            />
        )
    }
</RexLayout>
