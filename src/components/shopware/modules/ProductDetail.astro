---
import {
    getProperty,
    getShopwareInstance,
} from '@helpers/properties-management/server-properties';
import { getProduct } from '@shopware-pwa/shopware-6-client';
import ProductDetail from '../utils/ProductDetail';

let instance = getShopwareInstance(Astro);
const productId = getProperty(Astro, 'productId');

const _response = await getProduct(
    productId,
    { associations: { media: [] } },
    instance,
);
---

<ProductDetail
    client:only="preact"
    product={_response.product}
    configurator={_response.configurator}
/>
